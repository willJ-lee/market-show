{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0de8618f\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"cart\"\n};\nconst _hoisted_2 = {\n  class: \"check\"\n};\nconst _hoisted_3 = {\n  class: \"check__icon\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"check__icon__img\",\n  src: \"http://www.dell-lee.com/imgs/vue3/basket.png\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = {\n  class: \"check__icon__tag\"\n};\nconst _hoisted_6 = {\n  class: \"check__info\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" 总计: \");\n\nconst _hoisted_8 = {\n  class: \"check__info__price\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"check__btn\"\n}, \"去结算\", -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, _toDisplayString($setup.cartTotal), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createElementVNode(\"span\", _hoisted_8, \"¥ \" + _toDisplayString($setup.cartPrice), 1\n  /* TEXT */\n  )]), _hoisted_9])]);\n}","map":{"version":3,"mappings":";;;;;AACOA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;gEACTC,oBAAiF,KAAjF,EAAiF;AAA5ED,OAAK,EAAC,kBAAsE;AAAnDE,KAAG,EAAC;AAA+C,CAAjF;;AAAA;;;AACKF,OAAK,EAAC;;;AAERA,OAAK,EAAC;;;iDAAc;;;AACbA,OAAK,EAAC;;;gEAElBC,oBAAiC,KAAjC,EAAiC;AAA5BD,OAAK,EAAC;AAAsB,CAAjC,EAAwB,KAAxB,EAA2B;AAAA;AAA3B;;;uBATJG,oBAWM,KAXN,cAWM,CAVJF,oBASM,KATN,cASM,CARJA,oBAGM,KAHN,cAGM,CAFJG,UAEI,EADJH,oBAAiD,KAAjD,cAAiDI,iBAAjBC,gBAAiB,CAAjD,EAAyC;AAAA;AAAzC,GACI,CAHN,CAQI,EAJJL,oBAEM,KAFN,cAEM,aADAA,oBAA2D,MAA3D,cAAiC,OAAMI,iBAAEC,gBAAF,CAAvC,EAAkD;AAAA;AAAlD,GACA,CAFN,CAII,EADJC,UACI,CATN,CAUI,CAXN","names":["class","_createElementVNode","src","_createElementBlock","_hoisted_4","_toDisplayString","$setup","_hoisted_9"],"sourceRoot":"","sources":["/Users/mac/Desktop/jingdong/src/views/shop/Cart.vue"],"sourcesContent":["<template>\n  <div class=\"cart\">\n    <div class=\"check\">\n      <div class=\"check__icon\">\n        <img class=\"check__icon__img\" src=\"http://www.dell-lee.com/imgs/vue3/basket.png\">\n        <div class=\"check__icon__tag\">{{cartTotal}}</div>\n      </div>\n      <div class=\"check__info\">\n        总计: <span class=\"check__info__price\">&yen; {{cartPrice}}</span>\n      </div>\n      <div class=\"check__btn\">去结算</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, defineCustomElement } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\n\n// 购物车操作相关\nconst useCartEffect = () => {\n  const store = useStore()\n  const route = useRoute()\n  const shopId = route.params.id\n  const cartList = store.state.cartList\n\n  // 计算购物车物品数量\n  const cartTotal = computed(() => {\n    const productList = cartList[shopId]\n    let count = 0\n    if (productList) {\n      for (const i in productList) {\n        const produnct = productList[i]\n        count += produnct.count\n      }\n    }\n    return count\n  })\n\n  // 计算购物车物品价格\n  const cartPrice = computed(() => {\n    const productList = cartList[shopId]\n    let price = 0\n    if (productList) {\n      for (const i in productList) {\n        const product = productList[i]\n        price = (product.count * product.price)\n      }\n    }\n    return price.toFixed(2)\n  })\n\n  // 获取cartList\n  const productList = computed(() => {\n    \n  })\n\n  return { cartTotal, cartPrice }\n}\n\nexport default {\n  name: 'Cart',\n  setup () {\n    const { cartTotal, cartPrice } = useCartEffect()\n    return { cartTotal, cartPrice }\n  }\n}\n</script>\n\n<style lang='scss' scoped>\n@import '../../style/viriables.scss';\n\n  .cart {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: .5rem;\n    box-shadow: 0 -1px 1px 0 $content-bgColor;\n  }\n  .check {\n    display: flex;\n    height: .5rem;\n    line-height: .5rem;\n    &__icon {\n      position: relative;\n      width: .84rem;\n      line-height: .5rem;\n      &__img {\n        display: block;\n        margin: .12rem auto;\n        width: .28rem;\n        height: .26rem;\n      }\n      &__tag {\n        position: absolute;\n        padding: 0 .01rem;\n        left: .46rem;\n        right: .17rem;\n        top: .03rem;\n        min-width: .2rem;\n        height: .2rem;\n        line-height: .2rem;\n        text-align: center;\n        background: $highlight-color;\n        border-radius: .1rem;\n        transform: scale(.5);\n        transform-origin: left center;\n        color: $bgColor;\n      }\n    }\n    &__info {\n      flex: 1;\n      font-size: .12rem;\n      color: #333;\n      &__price {\n        font-size: .18rem;\n        color: $highlight-color;\n      }\n    }\n    &__btn {\n      width: .98rem;\n      text-align: center;\n      font-size: .14rem;\n      color: $bgColor;\n      background: #4FB0F9;\n    }\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}