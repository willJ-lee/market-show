{"ast":null,"code":"import { reactive, toRefs } from 'vue';\nimport { get } from '../../utils/request.js';\nconst categories = [{\n  name: '全部商品',\n  tab: 'all'\n}, {\n  name: '秒杀',\n  tab: 'seckill'\n}, {\n  name: '新鲜水果',\n  tab: 'fruit'\n}];\nexport default {\n  name: 'Content',\n\n  setup() {\n    const data = reactive({\n      currentTab: categories[0].tab,\n      contentList: []\n    });\n\n    const getContentData = async tab => {\n      const result = await get('/api/shop/1/products', {\n        tab\n      });\n\n      if (result?.errno === 0 && result?.data?.length) {\n        data.contentList = result.data;\n      }\n    };\n\n    const handleGetTabClick = tab => {\n      getContentData(tab);\n      data.currentTab = tab;\n    };\n\n    const {\n      currentTab,\n      contentList\n    } = toRefs(data);\n    getContentData();\n    return {\n      categories,\n      currentTab,\n      contentList,\n      handleGetTabClick\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAmCA,SAASA,QAAT,EAAmBC,MAAnB,QAAiC,KAAjC;AACA,SAASC,GAAT,QAAoB,wBAApB;AAEA,MAAMC,UAAS,GAAI,CAAC;AAACC,MAAI,EAAE,MAAP;AAClBC,KAAG,EAAE;AADa,CAAD,EAEhB;AACDD,MAAI,EAAE,IADL;AAEDC,KAAG,EAAE;AAFJ,CAFgB,EAKhB;AACDD,MAAI,EAAE,MADL;AAEDC,KAAG,EAAE;AAFJ,CALgB,CAAnB;AAUA,eAAe;AACbD,MAAI,EAAE,SADO;;AAEbE,OAAI,GAAK;AACP,UAAMC,IAAG,GAAIP,QAAQ,CAAC;AAAEQ,gBAAU,EAAEL,UAAU,CAAC,CAAD,CAAV,CAAcE,GAA5B;AAAiCI,iBAAW,EAAE;AAA9C,KAAD,CAArB;;AACA,UAAMC,cAAa,GAAI,MAAOL,GAAP,IAAe;AACpC,YAAMM,MAAK,GAAI,MAAMT,GAAG,CAAC,sBAAD,EAAyB;AAAEG;AAAF,OAAzB,CAAxB;;AACA,UAAIM,MAAM,EAAEC,KAAR,KAAkB,CAAlB,IAAuBD,MAAM,EAAEJ,IAAR,EAAcM,MAAzC,EAAiD;AAC/CN,YAAI,CAACE,WAAL,GAAmBE,MAAM,CAACJ,IAA1B;AACF;AACF,KALA;;AAMA,UAAMO,iBAAgB,GAAKT,GAAD,IAAS;AACjCK,oBAAc,CAACL,GAAD,CAAd;AACAE,UAAI,CAACC,UAAL,GAAkBH,GAAlB;AACF,KAHA;;AAIA,UAAM;AAAEG,gBAAF;AAAcC;AAAd,QAA8BR,MAAM,CAACM,IAAD,CAA1C;AACAG,kBAAc;AACd,WAAO;AAAEP,gBAAF;AAAcK,gBAAd;AAA0BC,iBAA1B;AAAuCK;AAAvC,KAAP;AACF;;AAjBa,CAAf","names":["reactive","toRefs","get","categories","name","tab","setup","data","currentTab","contentList","getContentData","result","errno","length","handleGetTabClick"],"sourceRoot":"","sources":["/Users/mac/Desktop/jingdong/src/views/shop/Content.vue"],"sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"category\">\n      <ul class=\"category_content\">\n        <li\n          :class=\"{'category__item': true, 'category__item--active': currentTab === item.tab}\"\n          v-for=\"item in categories\" :key='item.name'\n          @click=\"() => handleGetTabClick(item.tab)\"\n          >\n          {{item.name}}\n        </li>\n      </ul>\n    </div>\n    <div class=\"product\">\n      <div class=\"product__item\" v-for=\"item in contentList\" :key=\"item._id\">\n        <img class=\"product__item__img\" src=\"http://www.dell-lee.com/imgs/vue3/near.png\">\n        <div class=\"product__item__detail\">\n          <h4 class=\"product__item__title\">{{item.name}}</h4>\n          <p class=\"product__item__sales\">月售{{item.sales}}件</p>\n          <p class=\"product__item__price\">\n            <span class=\"product__item__yen\">&yen;</span>{{item.price}}\n            <span class=\"product__item__origin\">&yen;{{item.oldPrice}}</span>\n          </p>\n        </div>\n        <div class=\"product__number\">\n          <span class=\"product__number__minus\">-</span>\n          0\n          <span class=\"product__number__plus\">+</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\nimport { get } from '../../utils/request.js'\n\nconst categories = [{name: '全部商品',\n  tab: 'all'\n}, {\n  name: '秒杀',\n  tab: 'seckill'\n}, {\n  name: '新鲜水果',\n  tab: 'fruit'\n}]\n\nexport default {\n  name: 'Content',\n  setup () {\n    const data = reactive({ currentTab: categories[0].tab, contentList: [] })\n    const getContentData = async (tab) => {\n      const result = await get('/api/shop/1/products', { tab })\n      if (result?.errno === 0 && result?.data?.length) {\n        data.contentList = result.data\n      }\n    }\n    const handleGetTabClick = (tab) => {\n      getContentData(tab)\n      data.currentTab = tab\n    }\n    const { currentTab, contentList } = toRefs(data)\n    getContentData()\n    return { categories, currentTab, contentList, handleGetTabClick }\n  }\n}\n</script>\n\n<style lang='scss' scoped>\n@import '../../style/viriables.scss';\n@import '../../style/mixins.scss';\n\n.content {\n  display: flex;\n  position: absolute;\n  top: 1.52rem;\n  right: 0;\n  bottom: .5rem;\n  left: 0;\n}\n.category {\n  overflow-y: scroll;\n  width: .76rem;\n  height: 100%;\n  background: $search-bgcolor;\n  &__content {\n    height: 100%;\n  }\n  &__item {\n    text-align: center;\n    line-height: .4rem;\n    font-size: .14rem;\n    color: $content-fontcolor;\n    &--active {\n      border-radius: .02rem;\n      background: $bgColor;\n    }\n  }\n}\n.product {\n  // overflow-y: scroll;\n  overflow-y: scroll;\n  flex: 1;\n  padding: 0 .18rem 0 .16rem;\n  &__item {\n    position: relative;\n    display: flex;\n    border-bottom: .01rem solid $content-bgColor;\n      padding: .12rem 0;\n    &__img {\n      margin: 0 .16rem 0 0;\n      width: .68rem;\n      height: .68rem;\n    }\n    &__detail {\n      overflow: hidden;\n    }\n    &__title {\n      font-weight: normal;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $content-fontcolor;\n      @include ellipsis;\n    }\n    &__sales {\n      margin: .06rem 0;\n      line-height: .16rem;\n      font-size: .12rem;\n      color: $content-fontcolor;\n    }\n    &__price {\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $highlight-color;\n    }\n    &__yen {\n      font-size: .12rem;\n    }\n    &__origin {\n      margin-left: .06rem;\n      font-size: .12rem;\n      color: $light-fontColor;\n      text-decoration: line-through;\n    }\n    .product__number {\n      position: absolute;\n      right: 0;\n      bottom: .1rem;\n      color: $content-fontcolor;\n      &__minus, &__plus {\n        display: inline-block;\n        width: .2rem;\n        height: .2rem;\n        line-height: .16rem;\n        border-radius: 50%;\n        font-size: .2rem;\n        text-align: center;\n      }\n      &__minus {\n        margin-right: .1rem;\n        border: .01rem solid $medium-fontColor;\n        color: $medium-fontColor;\n      }\n      &__plus {\n        margin-left: .1rem;\n        background: $btn-color;\n        color: $bgColor;\n      }\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}