{"ast":null,"code":"import { useRoute } from 'vue-router';\nimport { useCommonCartEffect } from '../../effects/cartEffects.js';\nimport { post } from '../../utils/request.js';\nexport default {\n  name: 'Order',\n\n  setup() {\n    const route = useRoute();\n    const shopId = route.params.id;\n    const {\n      calculations,\n      productList\n    } = useCommonCartEffect(shopId);\n\n    const handleCancelOrder = () => {\n      alert('handleCancelOrder');\n    };\n\n    const handleConfirmOrder = async () => {\n      const products = [];\n\n      for (let i in productList) {\n        const product = productList[i];\n        products.push({\n          pro\n        });\n      }\n\n      try {\n        const result = await post('/api/order', {\n          addressId: 1,\n          shopId,\n          shopName: shopName.value,\n          iscanceled: false,\n          products\n        });\n      } catch {}\n    };\n\n    return {\n      calculations,\n      handleCancelOrder,\n      handleConfirmOrder\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAoBA,SAASA,QAAT,QAAyB,YAAzB;AACA,SAASC,mBAAT,QAAoC,8BAApC;AACA,SAASC,IAAT,QAAqB,wBAArB;AAEA,eAAe;AACbC,MAAI,EAAE,OADO;;AAEbC,OAAI,GAAK;AACP,UAAMC,KAAI,GAAIL,QAAQ,EAAtB;AACA,UAAMM,MAAK,GAAID,KAAK,CAACE,MAAN,CAAaC,EAA5B;AACA,UAAM;AAAEC,kBAAF;AAAgBC;AAAhB,QAAgCT,mBAAmB,CAACK,MAAD,CAAzD;;AACA,UAAMK,iBAAgB,GAAI,MAAM;AAC9BC,WAAK,CAAC,mBAAD,CAAL;AACF,KAFA;;AAGA,UAAMC,kBAAiB,GAAI,YAAY;AACrC,YAAMC,QAAO,GAAI,EAAjB;;AACA,WAAK,IAAIC,CAAT,IAAcL,WAAd,EAA2B;AACzB,cAAMM,OAAM,GAAIN,WAAW,CAACK,CAAD,CAA3B;AACAD,gBAAQ,CAACG,IAAT,CAAc;AAACC;AAAD,SAAd;AACF;;AACA,UAAI;AACF,cAAMC,MAAK,GAAI,MAAMjB,IAAG,CAAG,YAAH,EAAiB;AACvCkB,mBAAS,EAAE,CAD4B;AAEvCd,gBAFuC;AAGvCe,kBAAQ,EAAEA,QAAQ,CAACC,KAHoB;AAIvCC,oBAAU,EAAE,KAJ2B;AAKvCT;AALuC,SAAjB,CAAxB;AAOF,OARA,CAQE,MAAM,CAER;AACF,KAjBA;;AAkBA,WAAO;AAAEL,kBAAF;AAAgBE,uBAAhB;AAAmCE;AAAnC,KAAP;AACF;;AA5Ba,CAAf","names":["useRoute","useCommonCartEffect","post","name","setup","route","shopId","params","id","calculations","productList","handleCancelOrder","alert","handleConfirmOrder","products","i","product","push","pro","result","addressId","shopName","value","iscanceled"],"sourceRoot":"","sources":["/Users/mac/Desktop/jingdong/src/views/orderConfirmation/Order.vue"],"sourcesContent":["<template>\n  <div class=\"order\">\n    <div class=\"order__price\">实付金额\n      <span class=\"order__price__money\">&yen;{{calculations.price}}</span>\n    </div>\n    <div class=\"order__btn\">提交订单</div>\n  </div>\n  <div class=\"mask\">\n    <div class=\"mask__content\">\n      <div class=\"mask__content__title\">确认要离开收银台?</div>\n      <div class=\"mask__content__desc\">请尽快完成支付，否则将被取消</div>\n      <div class=\"mask__content__btns\">\n        <div class=\"mask__content__btn mask__content__btn--left\" @click=\"handleCancelOrder\">取消订单</div>\n        <div class=\"mask__content__btn mask__content__btn--right\" @click=\"handleConfirmOrder\">确认支付</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useRoute } from 'vue-router'\nimport { useCommonCartEffect } from '../../effects/cartEffects.js'\nimport { post } from '../../utils/request.js'\n\nexport default {\n  name: 'Order',\n  setup () {\n    const route = useRoute()\n    const shopId = route.params.id\n    const { calculations, productList } = useCommonCartEffect(shopId)\n    const handleCancelOrder = () => {\n      alert('handleCancelOrder')\n    }\n    const handleConfirmOrder = async () => {\n      const products = []\n      for (let i in productList) {\n        const product = productList[i]\n        products.push({pro})\n      }\n      try {\n        const result = await post ('/api/order', {\n          addressId: 1,\n          shopId,\n          shopName: shopName.value,\n          iscanceled: false,\n          products\n        })\n      } catch {\n\n      }\n    }\n    return { calculations, handleCancelOrder, handleConfirmOrder }\n  }\n}\n</script>\n\n<style lang='scss' scoped>\n@import '../../style/viriables.scss';\n\n  // 底部\n  .order {\n    position: fixed;\n    display: flex;\n    width: 100%;\n    align-items: center;\n    justify-content: space-between;\n    padding-left: .18rem;\n    box-sizing: border-box;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: .49rem;\n    line-height: .49rem;\n    background-color: $bgColor;\n    &__price {\n      font-size: 14px;\n      color: $content-fontcolor;\n      font-size: .14rem;\n      line-height: .20rem;\n      &__money {\n        font-size: .16rem;\n        line-height: .22rem;\n        font-weight: bold;\n      }\n    }\n    &__btn {\n      width: .98rem;\n      background-color: #4FB0F9;\n      text-align: center;\n      font-size: .14rem;\n      color: $bgColor;\n    }\n  }\n\n  .mask {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.50);\n    &__content {\n      position: absolute;\n      transform: translate(-50%, -50%);\n      top: 50%;\n      left: 50%;\n      width: 3rem;\n      height: 1.57rem;\n      background-color: #fff;\n      text-align: center;\n      border-radius: .04rem;\n      &__title {\n        margin: .24rem 0 0 0;\n        font-size: .18rem;\n        color: #333;\n      }\n      &__desc {\n        margin: .08rem 0 0 0;\n        font-size: .14rem;\n        color: #666;\n      }\n      &__btns {\n        display: flex;\n        margin: .24rem .58rem;\n      }\n      &__btn {\n        flex: 1;\n        width: .8rem;\n        line-height: .32rem;\n        border-radius: .16rem;\n        font-size: .14rem;\n        &--left {\n          margin-right: .12rem;\n          border: .01rem solid #4FB0F9;\n          color: #0091FF;\n        }\n        &--right {\n          margin-left: .12rem;\n          background: #4FB0F9;\n          color: #fff;\n          border: .01rem solid #fff;\n        }\n      }\n    }\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}