{"ast":null,"code":"import { reactive, toRefs } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport ShopInfo from '../../components/ShopInfo.vue';\nimport Content from './Content.vue';\nimport Cart from './Cart.vue';\nimport { get } from '../../utils/request.js'; // 根据点击id获取相对应的内容\n\nconst useShopInfoEffect = () => {\n  const route = useRoute();\n  const data = reactive({\n    nearbyItem: {}\n  });\n\n  const getnearbyItem = async () => {\n    const result = await get(`/api/shop/${route.params.id}`);\n\n    if (result?.errno === 0 && result?.data) {\n      data.nearbyItem = result.data;\n    }\n  };\n\n  const {\n    nearbyItem\n  } = toRefs(data);\n  return {\n    nearbyItem,\n    getnearbyItem\n  };\n}; // 点击back返回上级页面\n\n\nconst useBackBefore = () => {\n  const router = useRouter();\n\n  const handleBackClick = () => {\n    router.back();\n  };\n\n  return {\n    handleBackClick\n  };\n};\n\nexport default {\n  name: 'Shop',\n  components: {\n    ShopInfo,\n    Content,\n    Cart\n  },\n\n  setup() {\n    const {\n      router\n    } = useRouter;\n    const {\n      nearbyItem,\n      getnearbyItem\n    } = useShopInfoEffect();\n    const {\n      handleBackClick\n    } = useBackBefore();\n    getnearbyItem();\n    return {\n      nearbyItem,\n      handleBackClick\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAgBA,SAASA,QAAT,EAAmBC,MAAnB,QAAiC,KAAjC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,YAApC;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,GAAT,QAAoB,wBAApB,C,CAEA;;AACA,MAAMC,iBAAgB,GAAI,MAAM;AAC9B,QAAMC,KAAI,GAAIN,QAAQ,EAAtB;AACA,QAAMO,IAAG,GAAIV,QAAQ,CAAC;AAAEW,cAAU,EAAE;AAAd,GAAD,CAArB;;AACA,QAAMC,aAAY,GAAI,YAAY;AAChC,UAAMC,MAAK,GAAI,MAAMN,GAAG,CAAE,aAAYE,KAAK,CAACK,MAAN,CAAaC,EAAG,EAA9B,CAAxB;;AACA,QAAIF,MAAM,EAAEG,KAAR,KAAkB,CAAlB,IAAuBH,MAAM,EAAEH,IAAnC,EAAyC;AACvCA,UAAI,CAACC,UAAL,GAAkBE,MAAM,CAACH,IAAzB;AACF;AACF,GALA;;AAMA,QAAM;AAAEC;AAAF,MAAiBV,MAAM,CAACS,IAAD,CAA7B;AACA,SAAO;AAAEC,cAAF;AAAcC;AAAd,GAAP;AACF,CAXA,C,CAYA;;;AACA,MAAMK,aAAY,GAAI,MAAM;AAC1B,QAAMC,MAAK,GAAIhB,SAAS,EAAxB;;AACA,QAAMiB,eAAc,GAAI,MAAM;AAC5BD,UAAM,CAACE,IAAP;AACF,GAFA;;AAGA,SAAO;AAAED;AAAF,GAAP;AACF,CANA;;AAOA,eAAe;AACbE,MAAI,EAAE,MADO;AAEbC,YAAU,EAAE;AAAElB,YAAF;AAAYC,WAAZ;AAAqBC;AAArB,GAFC;;AAGbiB,OAAI,GAAK;AACP,UAAM;AAAEL;AAAF,QAAahB,SAAnB;AACA,UAAM;AAAES,gBAAF;AAAcC;AAAd,QAAgCJ,iBAAiB,EAAvD;AACA,UAAM;AAAEW;AAAF,QAAsBF,aAAa,EAAzC;AACAL,iBAAa;AACb,WAAO;AAAED,gBAAF;AAAcQ;AAAd,KAAP;AACF;;AATa,CAAf","names":["reactive","toRefs","useRouter","useRoute","ShopInfo","Content","Cart","get","useShopInfoEffect","route","data","nearbyItem","getnearbyItem","result","params","id","errno","useBackBefore","router","handleBackClick","back","name","components","setup"],"sourceRoot":"","sources":["/Users/mac/Desktop/jingdong/src/views/shop/Shop.vue"],"sourcesContent":["<template>\n<div class=\"wraper\">\n  <div class=\"search\">\n    <div class=\"search__back iconfont\" @click='handleBackClick'>&#xe6db;</div>\n    <div class=\"search__content\">\n      <span class=\"search__content__icon iconfont\">&#xe600;</span>\n      <input type=\"text\" class=\"search__content__input\" placeholder=\"请输入商品名称搜索\">\n    </div>\n  </div>\n  <ShopInfo :nearbyItem=\"nearbyItem\" :hindenborder= true v-show='nearbyItem.imgUrl' />\n  <Content :showName='nearbyItem.name'/>\n  <Cart />\n</div>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport ShopInfo from '../../components/ShopInfo.vue'\nimport Content from './Content.vue'\nimport Cart from './Cart.vue'\nimport { get } from '../../utils/request.js'\n\n// 根据点击id获取相对应的内容\nconst useShopInfoEffect = () => {\n  const route = useRoute()\n  const data = reactive({ nearbyItem: {} })\n  const getnearbyItem = async () => {\n    const result = await get(`/api/shop/${route.params.id}`)\n    if (result?.errno === 0 && result?.data) {\n      data.nearbyItem = result.data\n    }\n  }\n  const { nearbyItem } = toRefs(data)\n  return { nearbyItem, getnearbyItem }\n}\n// 点击back返回上级页面\nconst useBackBefore = () => {\n  const router = useRouter()\n  const handleBackClick = () => {\n    router.back()\n  }\n  return { handleBackClick }\n}\nexport default {\n  name: 'Shop',\n  components: { ShopInfo, Content, Cart },\n  setup () {\n    const { router } = useRouter\n    const { nearbyItem, getnearbyItem } = useShopInfoEffect()\n    const { handleBackClick } = useBackBefore()\n    getnearbyItem()\n    return { nearbyItem, handleBackClick }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n\n.wraper {\n  padding: 0 .18rem;\n}\n.search {\n  display: flex;\n  margin: .16rem 0 .16rem;\n  height: .32rem;\n  &__back {\n    width: .30rem;\n    line-height: .32rem;\n    font-size: .3rem;\n    color: #B6B6B6;\n    // background: #000;\n  }\n  &__content {\n    display: flex;\n    flex: 1;\n    background: $search-bgcolor;\n    border-radius: .16rem;\n    &__icon {\n      margin: 0 .16rem 0;\n      width: .16rem;\n      line-height: .32rem;\n      font-size: .18rem;\n      color: $input-color;\n    }\n    &__input {\n      padding: 0 .16rem 0 0;\n      width: 100%;\n      border: none;\n      background: none;\n      outline: none;\n      font-size: .14rem;\n      color: $content-fontcolor;\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}