{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0f701602\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"wrapper\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title\"\n}, \"我的订单\", -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"orders\"\n};\nconst _hoisted_4 = {\n  class: \"order__title\"\n};\nconst _hoisted_5 = {\n  class: \"order__status\"\n};\nconst _hoisted_6 = {\n  class: \"order__content\"\n};\nconst _hoisted_7 = {\n  class: \"order__content__imgs\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  class: \"order__info\"\n};\nconst _hoisted_10 = {\n  class: \"order__info__price\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"order__info__count\"\n}, \"共3件\", -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache) {\n  const _component_Doker = _resolveComponent(\"Doker\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.list, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"order\",\n      key: index\n    }, [_createElementVNode(\"div\", _hoisted_4, [_createTextVNode(_toDisplayString(item.shopName) + \" \", 1\n    /* TEXT */\n    ), _createElementVNode(\"span\", _hoisted_5, _toDisplayString(!item.isCanceled ? '已取消' : '已下单'), 1\n    /* TEXT */\n    )]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item, (imgItem, imgIndex) => {\n      return _openBlock(), _createElementBlock(\"img\", {\n        class: \"order__content__img\",\n        key: imgIndex,\n        src: imgItem.img\n      }, null, 8\n      /* PROPS */\n      , _hoisted_8);\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, \"¥\" + _toDisplayString(item.totalPrice), 1\n    /* TEXT */\n    ), _hoisted_11])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]), _createVNode(_component_Doker, {\n    currentIndex: 2\n  })], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;AACOA,OAAK,EAAC;;;gEACTC,oBAA6B,KAA7B,EAA6B;AAAxBD,OAAK,EAAC;AAAkB,CAA7B,EAAmB,MAAnB,EAAuB;AAAA;AAAvB;;;AACKA,OAAK,EAAC;;;AAEFA,OAAK,EAAC;;;AAEHA,OAAK,EAAC;;;AAETA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;;AAGNA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;iEACXC,oBAAyC,KAAzC,EAAyC;AAApCD,OAAK,EAAC;AAA8B,CAAzC,EAAgC,KAAhC,EAAmC;AAAA;AAAnC;;;;;6DAdVC,oBAmBM,KAnBN,cAmBM,CAlBJC,UAkBI,EAjBJD,oBAgBM,KAhBN,cAgBM,oBAfJE,oBAcMC,SAdN,EAcM,IAdN,EAcMC,YAdqCC,SAcrC,EAdyC,CAApBC,IAAoB,EAAdC,KAAc,KAAT;yBAAtCL,oBAcM,KAdN,EAcM;AAdDH,WAAK,EAAC,OAcL;AAd4CS,SAAG,EAAED;AAcjD,KAdN,GACEP,oBAGM,KAHN,cAGM,mCAFFM,IAAI,CAACG,YAAU,KACjB;AAAA;KACI,EADJT,oBAAuE,MAAvE,cAAuEU,kBAAxCJ,IAAI,CAACK,UAAmC,GAAzB,KAAyB,GAAzB,KAAyB,CAAvE,EAA8C;AAAA;AAA9C,KACI,CAHN,GAIAX,oBAQM,KARN,cAQM,CAPJA,oBAEM,KAFN,cAEM,oBADJE,oBAAyGC,SAAzG,EAAyG,IAAzG,EAAyGC,YAA1CE,IAA0C,EAAtC,CAA1BM,OAA0B,EAAjBC,QAAiB,KAAT;2BAA1DX,oBAAyG,KAAzG,EAAyG;AAApGH,aAAK,EAAC,qBAA8F;AAAlCS,WAAG,EAAEK,QAA6B;AAAlBC,WAAG,EAAEF,OAAO,CAACG;AAAK,OAAzG;;AAAA;KAAyG,CAAzG;;AAAA,KACI,EAFN,CAOI,EAJJf,oBAGM,KAHN,cAGM,CAFJA,oBAA8D,KAA9D,eAAgC,MAAKU,iBAAEJ,IAAI,CAACU,UAAP,CAArC,EAAsD;AAAA;AAAtD,KAEI,EADJC,WACI,CAHN,CAII,CARN,EALF;GAcM,CAdN;;AAAA,GAeI,EAhBN,CAiBI,CAnBN,GAoBAC,aAA2BC,gBAA3B,EAA2B;AAAnBC,gBAAY,EAAE;AAAK,GAA3B","names":["class","_createElementVNode","_hoisted_2","_createElementBlock","_Fragment","_renderList","_ctx","item","index","key","shopName","_toDisplayString","isCanceled","imgItem","imgIndex","src","img","totalPrice","_hoisted_11","_createVNode","_component_Doker","currentIndex"],"sourceRoot":"","sources":["/Users/mac/Desktop/jingdong/src/views/orderList/OrderList.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"title\">我的订单</div>\n    <div class=\"orders\">\n      <div class=\"order\" v-for='(item, index) in list' :key=\"index\">\n        <div class=\"order__title\">\n          {{item.shopName}}\n          <span class=\"order__status\">{{!item.isCanceled ? '已取消' : '已下单'}}</span>\n        </div>\n        <div class=\"order__content\">\n          <div class=\"order__content__imgs\">\n            <img class=\"order__content__img\" v-for=\"(imgItem, imgIndex) in item \" :key=\"imgIndex\" :src='imgItem.img'>\n          </div>\n          <div class=\"order__info\">\n            <div class=\"order__info__price\">&yen;{{item.totalPrice}}</div>\n            <div class=\"order__info__count\">共3件</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Doker :currentIndex='2' />\n</template>\n\n<script>\nimport { toRefs, reactive } from 'vue'\nimport Doker from '../../components/Docker.vue'\nimport { get } from '../../utils/request.js'\n\nconst useOrderListEffect = () => {\n  const data = reactive({ list: [] })\n  const getOrderList = async () => {\n    const result = await get('/api/order')\n    if (result?.errno === 0 && result?.data?.length) {\n      const orderList = result.data\n      orderList.forEach((order) => {\n        const products = order.products || []\n        let totalPrice = 0,\n        let to\n        products.forEach((productItem) => {\n          totalPrice += ((productItem?.product?.price * productItem?.orderSales) || 0)\n        })\n        order.totalPrice = totalPrice\n      })\n      data.list = result.data\n    }\n  }\n  getOrderList()\n  const { list } = toRefs(data)\n  return { list }\n}\n\nexport default {\n  name: 'OrderList',\n  components: {\n    Doker\n  },\n  setup () {\n    const { list } = useOrderListEffect()\n    console.log(list)\n    return { list }\n  }\n}\n</script>\n\n<style lang='scss' scoped>\n@import '../../style/viriables.scss';\n\n  .wrapper {\n    overflow-y: auto;\n    position: absolute;\n    padding: 0 .18rem .2rem .18rem;\n    top: 0;\n    right: 0;\n    bottom: .5rem;\n    left: 0;\n    background-color: #eee;\n  }\n  .title {\n    margin: 0 -.18rem .16rem;\n    line-height: .44rem;\n    background-color: $bgColor;\n    text-align: center;\n    font-size: .16rem;\n    color: #333;\n  }\n  .orders {\n  }\n  .order {\n    padding: .16rem;\n    margin-bottom: .16rem;\n    background-color: $bgColor;\n    &__title {\n      margin-bottom: .16rem;\n      line-height: .22rem;\n      font-size: .16rem;\n      color: $content-fontcolor;\n    }\n    &__status {\n      float: right;\n      font-size: .14rem;\n      color: $light-fontColor;\n    }\n    &__content {\n      display: flex;\n      &__imgs {\n        flex: 1;\n      }\n      &__img {\n        margin-right: .12rem;\n        width: .4rem;\n        height: .4rem;\n      }\n    }\n    &__info {\n      width: .7rem;\n      &__price {\n        margin-bottom: .04rem;\n        line-height: .2rem;\n        font-size: .14rem;\n        color: $highlight-color;\n        text-align: right;\n      }\n      &__count {\n        font-size: .12rem;\n        text-align: right;\n        color: $content-fontcolor;\n      }\n    }\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}